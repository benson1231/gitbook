# ğŸ“˜ Python æª”æ¡ˆæ“ä½œï¼ˆFile I/Oï¼‰æ•™å­¸

Python æä¾›äº†å…§å»ºçš„æª”æ¡ˆæ“ä½œåŠŸèƒ½ï¼Œå¯è®“ä½¿ç”¨è€…è¼•é¬†åœ°è®€å–èˆ‡å¯«å…¥æª”æ¡ˆã€‚æœ¬æ–‡å°‡ä»‹ç´¹å¸¸ç”¨çš„æª”æ¡ˆæ“ä½œæ–¹æ³•èˆ‡ä½¿ç”¨ç¯„ä¾‹ã€‚

---

## ğŸ—‚ï¸ ä¸€ã€é–‹å•Ÿèˆ‡é—œé–‰æª”æ¡ˆ

### `open()`

ç”¨ä¾†é–‹å•Ÿæª”æ¡ˆä¸¦è¿”å›æª”æ¡ˆç‰©ä»¶ã€‚

```python
f = open('example.txt', 'r')  # ä»¥è®€å–æ¨¡å¼é–‹å•Ÿæª”æ¡ˆ
```

### å¸¸è¦‹æ¨¡å¼

| æ¨¡å¼    | èªªæ˜                        |
| ----- | ------------------------- |
| `'r'` | è®€å–æ¨¡å¼ï¼ˆæª”æ¡ˆå¿…é ˆå­˜åœ¨ï¼‰              |
| `'w'` | å¯«å…¥æ¨¡å¼ï¼ˆæœƒè¦†è“‹åŸæª”æ¡ˆï¼‰              |
| `'a'` | é™„åŠ æ¨¡å¼ï¼ˆå¯«å…¥å…§å®¹æœƒåŠ åˆ°æª”å°¾ï¼‰           |
| `'x'` | å»ºç«‹æ–°æª”ï¼ˆè‹¥æª”æ¡ˆå­˜åœ¨æœƒå‡ºéŒ¯ï¼‰            |
| `'b'` | äºŒé€²ä½æ¨¡å¼ï¼ˆèˆ‡å…¶ä»–æ¨¡å¼æ­é…ä½¿ç”¨ï¼Œå¦‚ `'rb'`ï¼‰ |
| `'t'` | æ–‡å­—æ¨¡å¼ï¼ˆé è¨­å€¼ï¼‰                 |

### `close()`

ä½¿ç”¨å®Œæª”æ¡ˆå¾Œæ‡‰é—œé–‰ï¼Œé‡‹æ”¾ç³»çµ±è³‡æºã€‚

```python
f.close()
```

ğŸ“Œ **å»ºè­°ç”¨ `with` èªæ³•è‡ªå‹•é—œé–‰æª”æ¡ˆï¼š**

```python
with open('example.txt', 'r') as f:
    data = f.read()
```

---

## ğŸ“– äºŒã€è®€å–æª”æ¡ˆå…§å®¹

### `read()`

ä¸€æ¬¡è®€å–æ•´å€‹æª”æ¡ˆå…§å®¹ï¼ˆé©åˆå°æª”æ¡ˆï¼‰ã€‚

```python
with open('example.txt', 'r') as f:
    content = f.read()
    print(content)
```

å¯æŒ‡å®šè®€å–é•·åº¦ï¼š

```python
f.read(10)  # è®€å–å‰10å€‹å­—å…ƒ
```

### `readline()`

é€è¡Œè®€å–ä¸€è¡Œæ–‡å­—ã€‚

```python
with open('example.txt', 'r') as f:
    line = f.readline()
    print(line)
```

### `readlines()`

ä¸€æ¬¡è®€å–æ‰€æœ‰è¡Œï¼Œå›å‚³ä¸€å€‹ **list**ã€‚

```python
with open('example.txt', 'r') as f:
    lines = f.readlines()
    for line in lines:
        print(line.strip())
```

---

## âœï¸ ä¸‰ã€å¯«å…¥æª”æ¡ˆå…§å®¹

### `write()`

å°‡å­—ä¸²å¯«å…¥æª”æ¡ˆã€‚

```python
with open('output.txt', 'w') as f:
    f.write('Hello, Python!\n')
```

### `writelines()`

å°‡å¤šè¡Œå­—ä¸²ï¼ˆlistï¼‰ä¸€æ¬¡å¯«å…¥æª”æ¡ˆã€‚

```python
lines = ['Line 1\n', 'Line 2\n', 'Line 3\n']
with open('output.txt', 'w') as f:
    f.writelines(lines)
```

### é™„åŠ æ¨¡å¼ (`'a'`)

åœ¨æª”å°¾æ–°å¢å…§å®¹è€Œä¸è¦†è“‹åŸè³‡æ–™ã€‚

```python
with open('output.txt', 'a') as f:
    f.write('Appended line.\n')
```

---

## ğŸ”„ å››ã€å…¶ä»–å¸¸ç”¨æ–¹æ³•

| æ–¹æ³•                       | èªªæ˜                                 |
| ------------------------ | ---------------------------------- |
| `f.tell()`               | å›å‚³ç›®å‰æª”æ¡ˆæŒ‡æ¨™ä½ç½®ï¼ˆä»¥ä½å…ƒçµ„è¨ˆï¼‰ã€‚                 |
| `f.seek(offset, whence)` | ç§»å‹•æª”æ¡ˆæŒ‡æ¨™ä½ç½®ã€‚<br>ä¾‹å¦‚ï¼š`f.seek(0)` æœƒå›åˆ°é–‹é ­ã€‚ |
| `f.flush()`              | ç«‹å³å°‡ç·©è¡å€è³‡æ–™å¯«å…¥æª”æ¡ˆã€‚                      |
| `f.truncate(size)`       | æˆªæ–·æª”æ¡ˆåˆ°æŒ‡å®šå¤§å°ã€‚                         |

```python
with open('output.txt', 'r+') as f:
    f.seek(0)
    print(f.tell())  # é¡¯ç¤ºä½ç½®
```

---

## ğŸ“¦ äº”ã€è™•ç†äºŒé€²ä½æª”æ¡ˆï¼ˆbinary modeï¼‰

è®€å–åœ–ç‰‡ã€å½±ç‰‡æˆ–å…¶ä»–éæ–‡å­—æª”æ¡ˆæ™‚ä½¿ç”¨ `'rb'` æˆ– `'wb'`ã€‚

```python
with open('image.jpg', 'rb') as f:
    data = f.read()

with open('copy.jpg', 'wb') as f:
    f.write(data)
```

---

## ğŸ’¡ å…­ã€æª”æ¡ˆå­˜åœ¨æª¢æŸ¥

ä½¿ç”¨ `os` æ¨¡çµ„æª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨ï¼š

```python
import os

if os.path.exists('example.txt'):
    print('æª”æ¡ˆå­˜åœ¨ï¼')
else:
    print('æª”æ¡ˆä¸å­˜åœ¨ï¼')
```

---

## ğŸ§­ ä¸ƒã€ç¶œåˆç¯„ä¾‹

```python
# å»ºç«‹ã€å¯«å…¥ã€å†è®€å–
with open('demo.txt', 'w') as f:
    f.write('Line 1\n')
    f.write('Line 2\n')

with open('demo.txt', 'r') as f:
    for line in f:
        print(line.strip())
```

---

âœ… **é‡é»æ•´ç†ï¼š**

1. ä½¿ç”¨ `with open()` å¯è‡ªå‹•ç®¡ç†æª”æ¡ˆé—œé–‰ã€‚
2. æ–‡å­—æ¨¡å¼èˆ‡äºŒé€²ä½æ¨¡å¼çš„å€åˆ¥å–æ±ºæ–¼æª”æ¡ˆé¡å‹ã€‚
3. å¯«å…¥æ¨¡å¼ `'w'` æœƒè¦†è“‹åŸæª”æ¡ˆï¼Œé™„åŠ æ¨¡å¼ `'a'` ä¸æœƒã€‚
4. ä½¿ç”¨ `seek()` å’Œ `tell()` å¯ç²¾æº–æ§åˆ¶è®€å¯«ä½ç½®ã€‚
